# 【阿拉丁基础建设方向周报】

> 从2015-12-07到2015-12-11

## wise接入开发平台

### 项目背景

wise阿拉丁模板开发未平台化，部署环境、调试代码成本比较高，而且目前参与wise阿拉丁模板开发的产品线有十几个，急需一个平台来管理开发人员及相关模板，以提高后续模板开发及人员管理成本。

### 进度

- 静态文件上线配置 11.9-11.20（齐健）
- 接入平台的fis编译脚本开发 11.9-11.20（齐健）
- 模板目录去掉多级文件夹 11.16-11.27（齐健）
- 模板开发模块升级 11.9-11.20（小琴）
    - 单模板支持多文件形式读取 11.9-11.13
    - 单模板支持新增文件（tpl，js，css） 11.12-11.20
    - 新增模板模块升级 11.16-11.20
- 模板预览 11.23-11.30（小琴）
- 上线/提测模块升级 12.7-12.13（齐健，小琴）
- 单模板新增xsscheck 12.7-12.13（小琴）

本周进度：

* 单模板新增xsscheck，已完成开发
* wise模块迁移至平台，整体于周二送测，qa周五下午开始测试，预计下周二测完

## 去掉模板中的多级文件夹

### 背景与目标

多级文件夹对各平台有影响，去掉多级文件夹确保没问题

### 完成情况

已迁移完毕

## 上线时间持续跟进优化

### 背景与目标

目前wise上线时间比较久，比PC慢了一倍多。需要持续跟进和优化上线时间，以减少上线人力成本和快速响应紧急需求。

### 进度

本周测试和查看aladdin上线后对机器cpu_idle的影响，测试后RD评估去掉上线机器的sleep 60s 会有拒绝的风险。

需要等 

1、nginx新调度上线   - 12月18日

2、op完成机器扩容提升 cpu idle 后，如果没有风险才可去除 - 12月18日，扩容后需要RD评估风险

## wise-aladdin基础库升级

### 背景与目标

目前wise基础库有很多bug，A.setup、A.init 都有一定问题。需要升级解决。另外基础库跟pc的逻辑不一至，需要同步

### 进度

本周测试完成 - 由于影响面比较大，周五上线有风险。下周上线

### 问题
测试中发现的问题：

1、A.init 有嵌套调用

2、有的模板 A.init 的 script 标签并不在模板中

3、手百的实现逻辑跟普通版式有区别

