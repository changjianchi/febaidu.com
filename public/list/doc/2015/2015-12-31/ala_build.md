# 【阿拉丁基础建设方向周报】

> 从2015-12-21到2015-12-25

### wise阿拉丁模板开发平台化

#### 项目背景
wise阿拉丁模板开发未平台化，部署环境、调试代码成本比较高，而且目前参与wise阿拉丁模板开发的产品线有十几个，急需一个平台来管理开发人员及相关模板，以提高后续模板开发及人员管理成本。

#### 目标
* 降低模板开发及维护成本
* 更好地管理外拆产品线开发人员及相关模板
* 更好地实现上线流程化管理

#### 整体计划
* 静态文件上线配置  11.9-11.20（齐健）
* 接入平台的fis编译脚本开发  11.9-11.20（齐健）
* 模板目录去掉多级文件夹    11.16-11.27（齐健）
* 模板开发模块升级  11.9-11.20（小琴）
    * 单模板支持多文件形式读取  11.9-11.13
    * 单模板支持新增文件（tpl，js，css）    11.12-11.20
    * 新增模板模块升级  11.16-11.20
* 模板预览  11.23-11.30（小琴）
* 上线/提测模块升级 12.7-12.13（齐健，小琴）
* 单模板新增xsscheck    12.7-12.13（小琴）

#### 本周工作

* 升级smarty编译脚本及cr脚本（不关闭卡片绑定功能）
* 线上平台到期回收，已迁移至新机器
* wise环境部署到线上机器，为各产品线开发同学加上权限，1.4正式开放使用

## 上线时间持续跟进优化

### 背景与目标

目前wise上线时间比较久，比PC慢了一倍多。需要持续跟进和优化上线时间，以减少上线人力成本和快速响应紧急需求。

### 进度

目前cpu_idle OP评估平均已经到了60%，已经满足去掉 sleep 60s的条件。但是因为aladdin上线过程中内存上涨，导致线上hhvm有重启的风险，需要追查内存上涨的原因。 - 本周跟RD一起查找内存上涨的原因，暂时无结论


## wise-aladdin 日志升级

### 背景与目标

目前aladdin日志缺少xpath，发送日志相对比较麻烦，需要升级

### 进度

目前日志状态
1、activity中日志 - 跟superframe同学沟通，按照activity的规范打日志
2、交互日志添加xpath - 已开发完
3、tc跳转加xpath - 跟刘悦沟通，后续由结果页统一加tc跳转xpath。预计节后一至两周完成。
4、页面中放在body下的弹窗加日志 - 已开发完
5、异步拼tc跳转(加入tj自增) - 已开发完
6、异步拼delay_img - 未完成
7、JS手动发统计日志 - 未完成
