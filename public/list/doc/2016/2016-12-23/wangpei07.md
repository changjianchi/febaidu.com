# 王培

> 从2016-12-19 到 2016-12-23

## 本周跟进

- MIP 组件开发

- MIP 文档更新

- TOP 站改造支持

- MIP 支付调研

- MIP 校验

## MIP 支付（无更新）

### 背景与目标

    对『付钱啦』提供技术支持，并已此封装一套 MIP 自己的支付接口

#### 完成情况

- 进度：主要支持站长开发，依赖站长进度，目前hold

#### 效果图

- 暂无

## 校验

### 背景与目标
    
    校验规则按需升级：
    - 修改select、option规则为只允许祖先节点为mip-form
    - 校验规则去掉mip-appdl的positiontype属性的强制要求
    - mip-form method的post、get允许大小写
    - a标签href属性支持sms:xx格式

#### 完成情况

- 进度：测试中，预计12.23升级完成

## 组件

### 本周开发

#### 1. mip-fixed 限制高度升级（@佳莹）

##### 背景与目标
    
    支持网盟广告样式升级

##### 完成情况

- 进度：已上线（12.20）

##### 效果图

- 暂无

#### 2. mip-form升级（@佳莹）

##### 背景与目标
    
    支持各种type

##### 完成情况

- 进度：测试中

##### 效果图

- 暂无

#### 3. mip-carousel（@传涛）

##### 背景与目标
    
    1. 轮播图支持图片popup
    2. 【设置指示器可配】支持当前显示的图片和总图片的数量，例如右下角显示1/20
    3. 支持滑动时的效果。 目前的是在滑动后显示下一张图片，没有拖动效果（参考swiper）。

##### 完成情况

- 进度：开发中

##### 效果图

- 暂无

#### 4. mip-access(@吴鹏)

##### 背景与目标
    
    ACCESS能够允许发布者对页面内容进行访问权限的控制，通过内容标记和用户访问情况进行综合评价，从而实现对付费墙和订阅功能的支持。

##### 完成情况

- 进度：调研结束，和@大仙确认了方案，12.26和@晓雷确认

##### 效果图

- 暂无

#### 5. mip-mustache（@王培）

##### 背景与目标
    
    模板组件，引入并封装第三方模板引擎

##### 完成情况

- 进度：组件已上线（12.21），依赖校验升级才能开放
- 预览地址：暂无

##### 效果图

- 暂无

#### 6. mip-ad 全网推荐广告（@佳莹）

##### 背景与目标
    
    全网推荐广告支持悬浮

##### 完成情况

- 进度：代码ready，但是全网可能要下线这个功能，所以暂时hold
- 预览地址：暂无

##### 效果图

- 暂无

### 组件BUG修复

#### 1. mip-video 视频组件安卓播放BUG（@传梼）

- 原因：video播放时，浏览器调起native播放器，导致在iframe下视频窗口漂浮BUG
- 进度：[已定位]，域名问题，需要浏览器添加白名单（后续@浪波跟进）

#### 2. mip-fixed 悬浮组件meta自带浏览器BUG（@佳莹）

- 原因：组件内嵌fixed元素时，在 meta7自带浏览器滑动闪动问题 投票、bottom 类型在 body 有 padding 的情况下，展现会出现问题
- 进度：已上线（12.20）

#### 3. 编码校验提醒（@杨珺、王培）

- 原因：一些 MIP 页面中会有gbk编码，导致cache后乱码现象
- 进度：方案确定，下周进入开发

#### 4.  mip-form 表单组件 BUG@佳莹）

- 原因：https 下 action为http时报错
- 进度：测试中

#### 5. mip-fixed 悬浮组件组件在低端机oppo手机被遮盖（@传涛）

- 原因：低端安卓机oppo，fixed元素使用了opacity属性，有兼容性问题，导致dom元素被其他元素遮盖
- 进度：已反馈（12.23）

#### 6. 非top站点悬浮广告BUG(@王培)

- 原因：悬浮广告未使用悬浮组件支持，鉴于站点问题较多，短线升级广告组件
- 进度：测试中

#### 7. 120ask底部悬浮广告闪现其他广告BUG(@王培)

- 原因：120ask广告组件逻辑问题，已反馈
- 进度：已修复上线

#### 8. 寻医问药页面加载缓慢并且加载不全BUG(@王培)

- 原因：页面中含有特殊字符，导致php解析被截断，已反馈
- 进度：已修复上线

#### 9. 39页面左右滑动BUG(@王培)

- 原因：页面中有dom节点样式设置有问题，导致页面被撑宽
- 进度：已修复上线

### 下周及后期计划

#### 1. mip-experiment A/B实验组件（@佳莹）

##### 背景与目标
    
    完成一个能够支持A/B实验的组件，支持使用者自己配置对照实验

##### 完成情况

- 进度：待开发
- 预览地址：暂无

#### 2. mip-app-banner (@王培）

##### 背景与目标
    
    提供一个能直接调起app的组件

##### 完成情况

- 进度：待开发，调研中
- 预览地址：暂无

#### 3. mip-list（@王培）

##### 背景与目标
    
    列表组件，依赖mip-mustache

##### 完成情况

- 进度：待开发，有依赖

## 第三方组件

#### 背景与目标

    - 支持第三方组件开发
    - 审核起开发代码
    - 上线第三方组件
    - 迁移第三方组件

#### 完成情况

##### 组件审核中

> mip-yiaiddd-page

    - 审核：暂未通过
    - 进度：hold
    - 原因：组件命名不太规范

> mip-wkfun-yao

    - 审核：暂未通过
    - 进度：hold
    - 原因：组件命名不太规范

> mip-dftt-data

    - 审核：暂未通过
    - 进度：hold
    - 原因：未通过fecs规范

> mip-sina-carousel

    - 审核：暂未通过
    - 进度：closed
    - 原因：通用轮播组件升级功能支持
    
> mip-km-ys.js

    - 审核：暂未通过
    - 进度：hold
    - 原因：readme不符合规范

>  mip-showmore
    
    - 审核：暂未通过
    - 进度：hold
    - 原因：添加了无用文件

>  mip-async-recommend

    - 审核：暂未通过
    - 进度：hold
    - 原因：调用了第三方模块引擎，鉴于mip会提供通用模板引擎，所以暂不通过

>  mip-weiyoubaba-tthead

    - 审核：暂未通过
    - 进度：hold
    - 原因：未通过fecs规范

> mip-head

    - 审核：暂未通过
    - 进度：hold
    - 原因：组件目录不符合规范

> mip-xueyou-article

    - 审核：暂未通过
    - 进度：hold
    - 原因：未按照规范开发组件，使用相对路径

> mip-cr173

    - 审核：暂未通过
    - 进度：closed
    - 原因：未按照规范开发组件，组件目录不对，未通过fecs规范

##### 组件已上线

组件名|功能|上线时间
---|---|---
mip-muzi-appdownload|[升级] 木子app下载|12.22
mip-askad|[升级][BUG] 120askad广告组件升级|12.22
mip-down-ppzs|[升级] 皮皮助手|12.22
mip-iask-business|[升级] 爱问商业广告组件|12.22
mip-bsml-carousel|[新增] bsml轮播组件|12.21
mip-bsml-fixedbar|[新增] bsml底部转换工具组件|12.21
mip-bsml-form|[新增] bsml表单组件|12.21
mip-bsml-multiselect|[新增] bsml多选下拉组件|12.21
mip-bsml-sliding|[新增] bsml图片滑屏组件|12.21
mip-bsml-widget|[新增] bsml通用组件，包括打点等功能|12.21
mip-wangxia-down|[升级] 下载站定制高速下载组件|12.21
mip-cr173-tags|[升级] 西西软件园适配下载地址组件|12.21
mip-wangxia-call|[新增] 自由业务|12.20
mip-wangxia-down|[新增] 下载站定制高速下载组件|12.20
mip-cr173-tags|[新增] 西西软件园适配下载地址组件|12.20
mip-html-ajax|[升级] 评论提交加载|12.20
mip-iask-business|[升级] 爱问商业广告组件|12.20
mip-iask-ext| [升级] 爱问详细页插件|12.20
mip-360doc-script |[升级] 360doc网业务逻辑组件|12.20
mip-jjpz|[升级] 自有业务详情页整体交互组件|12.20
mip-hk-showarticle|[升级] 显示文章更多详情|12.16
mip-xem-review|[升级] 自用获取随机评论组件|12.16

### 9. MIP 文档

#### 背景与目标
    
    完善文档，随时更新
    
#### 完成情况

- 更新：

    - 校验规则升级
    - github changelog 按时更新
    - mip-carousel 轮播图功能升级
    - mip-ad 增加ssp联盟广告
    - mip-stats-baidu 增加点击统计

- 进度：

    - 内网文档同步官网脚本完成

- 预览地址：
    
    - 内网：http://mip.baidu.com/
    - 官网：https://www.mipengine.org

