# 谢耀武

> 2016-08-08到2016-08-12

## 本周进度

1. 机制 - 上线foot的优化，目前线上稳定，符合预期
1. 机制 - 收集js里拼sf、mip的需求，下周开始升级
1. 机制 - 跟进sigma2.0-人物-手百7.4空白问题
1. 机制 - 整理aladdin里引用amd静态文件合并需求，需要升级fis编译时支持配置式打包全并文件
1. 平台 - 更新sf2.0脚本，支持平台预览静态文件
1. 平台 - 添加新模板验证转码判断，新模板名长度判断

## 下周排期

1. 平台 - 单模板上线
1. 平台 - 调研平台环境配置，开始优化平台代码的配置
1. 机制 - 跟进sigma2.0白屏问题
1. 机制 - 跟进静态文件合并打包需求
1. 机制 - 跟进js里拼sf、mip链接问题

## 圣玛利亚平台

### 背景

wise阿拉丁模板开发未平台化，部署环境、调试代码成本比较高，而且目前参与wise阿拉丁模板开发的产品线有十几个，急需一个平台来管理开发人员及相关模板，以提高后续模板开发及人员管理成本。

### 目标
* 开发统一：所有产品线及所有端模板，开发统一，规范统一，流程统一
* 上线统一：统一所有搜索结果模板权限控制和上线控制
* 管理统一：所有产品线及所有端模板，统一平台管理、监控、验证等

### 开发人员

> 目前由shuxiaoqin提供技术支持

* xieyaowu
* zhangshen04
* yuyunfei

### 整体计划

以下list预期在H2完成

#### 单模板上线

开发【单模板配送】模块，结合mis+noah快速上线

* 每天自动备份与主干diff代码包，方便紧急情况使用863按天回滚
* 可并发15个模板同时上线，上线中可停止，自动排队、自动开始
* 可操作单个模板的mis回滚版本
* 值周可操作停止当前所有上线
* 可统计上线成功率、失败率、排行

#### 平台自测时自动化检查

1. include、inline、extends跨模板检查
1. 模板命名检查 - 检查某些关键字
1. 模板class命令自动检查 - 针对栅格化的模板根据模板名检查class名
1. data-merge里smarty逻辑检查
1. 预览时链接参数自动检查 - 根据链接已有规则检查
1. 预览时模板速度指标显示
1. pad.tpl内容检查

#### 开发平台优化

1. 根据现有的代码模式，升级为gitlab自动部署上线，并积累形成平台的文档
1. 升级后续环境配置，达到开发测试、线上环境不冲突，拒绝diff代码
1. 在小diff下优化现有开发模式，比如添加常用组件、优化部分模块
1. 根据现有的开发模式，优化模板开发流程文档、颗粒化文档

#### 易用性 - 模板开发优化

* 同步测试环境，需要支持线下静态文件的同步
* 提供模板下载包
* 一个资源支持多个模板召回
* 模板列表支持展开收起
* 同步测试环境，需要支持线下静态文件的同步以及支持模板下载包
* 静态文件还原到主干时，如果该文件是打开状态，需要同步刷新一下
* 静态文件被选中状态，该文件被关闭时，重新点击树文件，没相应

#### 积分管理2.0

结合目前的【开发者公约】条例，打通开发平台，自动根据规则加、减分

1. 驳回模板按需扣分
1. 每周上线pass次数自动计算并加分

#### 一休2.0

1. 扣分群里自动同步
1. 每天扣分情况总结后自动同步群里
1. 提供`q=*`的问题自动回答

#### 模板下线管理

计算出30天内没有展现的模板list，并提供相关的changelog、发送邮件、模板owner操作下线等功能


