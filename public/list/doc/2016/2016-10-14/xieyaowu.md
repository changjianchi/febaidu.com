# 谢耀武

> 2016-10-08 到 2016-10-14

## aladdin-wise 模板上线优化2.0 - 已上线

优化如下：

* 863分组并发数优化
* smarty编译脚本优化
* 800个冗余预php处理删除
* 冗余静态文件、模板文件删除
* 删除编译白名单

现在的整体上线时间：

> 具体时间跟上线人员数量、人员确认效果时间、机房流量峰值相关联

名称  | 优化前 | 优化1.0 | 优化2.0
--- | --- | --- | ---
单模板上线(无静态文件) | 1小时30分钟 | 52分钟～1小时10分钟 | 32分钟~50分钟
普通上线（10人左右+静态文件） | 2小时30分钟~3小时 | 1小时30分钟~1小时50分钟 | 1小时~1小时30分钟
全量编译上线（无静态文件） | 2小时 | 1小时30分钟 | 50分钟~1小时

## aladdin-wise 模板上线优化3.0 - 初版

1. 值周人命令操作 - 提供上线、停止、单台、完成命令
1. 自动发送模板列表、上线人员 - 解放值周人双手
1. 自动提示值周下一步 - 解决大家不确认问题
1. 统计上线时间

考虑到线上的稳定性自动上线只是基于平台的编译->ci过程，这个过程中可以终止上线，当ci后会自动提醒值周人去发单上线。

单台后值周人确认下单台，群里会自动提示单台地址和相关的上线人员。

现有的上线方式可以继续使用，机器人半自动上线会同平台上线做互斥处理。

## 本周其他任务

* 值周cr
* 协助@朱雷一起完成sigma2.0间距的升级
* 沟通情景页日志分析需求

## 下周任务

* 梳理sigma.init的实现 - 急
* 再次跟ubs沟通日志字段问题
* 梳理aladdin在www里的js代码
* 协助@士浩修复哥伦布里点后推的bug