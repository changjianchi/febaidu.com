# 王培

> 从2017-01-03 到 2017-01-06

## 本周跟进

- MIP 组件开发

- MIP 文档更新

- TOP 站改造支持

- MIP 支付调研

- MIP 校验

## MIP 支付（无更新）

### 背景与目标

    对『付钱啦』提供技术支持，并已此封装一套 MIP 自己的支付接口

#### 完成情况

- 进度：主要支持站长开发，依赖站长进度，目前hold

#### 效果图

- 暂无

## 校验

### 背景与目标
    
    1. 有一些站点的页面，虽然在页面头部（head标签中）设置了页面编码为utf8(charset=’utf-8’),但是页面中还是存在其他编码的内容,导致页面进入到 mip cache 后，出现页面内容乱码现象

    2. 规则升级：
        1）增加 template 标签相关校验
        2）去掉 a 标签 target=‘_blank’的属性值强制

#### 完成情况

- 进度：
    - 编码问题前端预计01月06日之前完成上线，Spider春节后
    - 校验规则升级前端校验预计2017.01.06之前更新npm，依赖spider一起上线，春节前上线

## 组件

### 本周开发

#### 1. mip-form升级（@佳莹）

##### 背景与目标
    
    支持各种type

##### 完成情况

- 进度：排期中

##### 效果图

- 暂无

#### 2. mip-carousel（@传梼）

##### 背景与目标
    
    1. 轮播图支持图片popup
    2. 【设置指示器可配】支持当前显示的图片和总图片的数量，例如右下角显示1/20
    3. 支持滑动时的效果。 目前的是在滑动后显示下一张图片，没有拖动效果（参考swiper）。

##### 完成情况

- 进度：待上线
- 预览地址：http://cp01-ps-fe-1.epc.baidu.com/fct?q=lunbodemo

##### 效果图

<table>
    <tr>
        <td><img src="../2016-12-30/img/wangpei07/wp02.png" width="300px"></td>
        <td><img src="../2016-12-30/img/wangpei07/wp01.png" width="300px"></td>
    </tr>
</table>


#### 3. mip-accordion 功能升级（@传梼）

##### 背景与目标
    
    1. 支持高度控制（可以设置高度阈值，超过高度才会显示『展开』『收起』按钮）
    2. 不记录用户展开历史选项
    3. 了解站点需求，升级通用组件

##### 完成情况

- 进度：开发中
- 预览地址：暂无

##### 效果图

- 暂无

#### 4. mip-img-lightbox 图片弹层（@传梼）

##### 背景与目标
    
    1. 图片弹层功能

##### 完成情况

- 进度：需求改变，下掉组件
- 预览地址：暂无

##### 效果图

- 暂无

#### 5. mip-access(@吴鹏)

##### 背景与目标
    
    ACCESS能够允许发布者对页面内容进行访问权限的控制，通过内容标记和用户访问情况进行综合评价，从而实现对付费墙和订阅功能的支持。

##### 完成情况

- 进度：2016.1.9给出设计文档

##### 效果图

- 暂无

#### 6. mip-mustache（@王培）

##### 背景与目标
    
    模板组件，引入并封装第三方模板引擎

##### 完成情况

- 进度：组件已上线（12.21），依赖校验升级才能开放
- 预览地址：暂无

##### 效果图

- 暂无

#### 7. mip-list（@王培）

##### 背景与目标
    
    列表组件，依赖mip-mustache

##### 完成情况

- 进度：开发完成（01.06），依赖校验升级才能开放

##### 效果图

- 暂无

#### 8. mip-app-banner (@王培）

##### 背景与目标
    
    提供一个能直接调起app的组件

##### 完成情况

- 进度：开发中
- 预览地址：暂无

##### 效果图

- 暂无

### 组件BUG修复

#### 1. mip-video 视频组件安卓播放BUG（@传梼）

- 原因：video播放时，浏览器调起native播放器，导致在iframe下视频窗口漂浮BUG
- 进度：[已定位]，域名问题，需要浏览器添加白名单（后续@浪波跟进）

#### 2.  mip-form 表单组件 BUG（@佳莹）

- 原因：https 下 action为http时报错
- 进度：已上线（01.05）

#### 3. 视频一致性问题 

- 原因：RD同学正在定位
- 进度：新建card上线（01.05）使用，旧card用来追bug，待问题定位后下掉一个card

### 下周及后期计划

#### 1. mip-experiment A/B实验组件（@佳莹）

##### 背景与目标
    
    完成一个能够支持A/B实验的组件，支持使用者自己配置对照实验

##### 完成情况

- 进度：待开发
- 预览地址：暂无

## 第三方组件

#### 背景与目标

    - 支持第三方组件开发
    - 审核起开发代码
    - 上线第三方组件
    - 迁移第三方组件

#### 完成情况

##### 组件审核中

> mip-list

    - 审核：暂未通过
    - 进度：hold
    - 原因：依赖校验一起上线

> mip-em-hq
    
    - 审核：暂未通过
    - 进度：hold
    - 原因：不符合组件开发规范

>  mip-cr173-systemshow

    - 审核：暂未通过
    - 进度：hold
    - 原因：不符合组件开发规范

> mip-notice-slide

    - 审核：暂未通过
    - 进度：hold
    - 原因：组件命名不符合规范

> PR:Add files via upload #255

    - 审核：暂未通过
    - 进度：hold
    - 原因：组件开发不符合规范

> PR:添加东方头条新闻组件 #248
    
    - 审核：暂未通过
    - 进度：hold
    - 原因：组件开发不符合规范,使用第三方插件不太合适

> mip-km-ys

    - 审核：暂未通过
    - 进度：hold
    - 原因：readme不符合规范

>  mip-template

    - 审核：暂未通过
    - 进度：hold
    - 原因：官方提供通用template方案和组件，所以暂不通过

>  mip-async-recommend

    - 审核：暂未通过
    - 进度：hold
    - 原因：调用了第三方模块引擎，鉴于mip会提供通用模板引擎，所以暂不通过

>  mip-weiyoubaba-tthead

    - 审核：暂未通过
    - 进度：hold
    - 原因：未通过fecs规范

> mip-xueyou-article

    - 审核：暂未通过
    - 进度：hold
    - 原因：未按照规范开发组件，使用相对路径

##### 组件已上线

组件名|功能|上线时间
---|---|---
mip-fengxi-sdk|[新增] 凤悉sdk插件|01.05
mip-cr173-ppzs | [升级] 西西软件园皮皮助手下载|01.05
mip-form  |  [升级] 表单组件 http跳转|01.05
mip-content-readmore |   [升级] 文字截断，查看更多组件|01.05
mip-ad | [升级] 广告|01.05
mip-fh-ad |  [升级] 用来支持m.fh21.com.cn问答详情页的直投广告显|01.05
mip-content-readmore|[新增] 文字截断，查看更多组件|01.04
mip-nine-business|[新增] 页面公共业务逻辑|01.04
mip-nine-download|[新增] 页面下载业务|01.04
mip-adsense| [升级] google 广告组件|01.04
mip-cr173-tags|[升级] 西西软件园适配下载地址组件|01.04
mip-mz-addonapp|[升级] 木子推荐app下载|01.04
mip-mz-appdownload|[升级] 木子 app下载|01.04
mip-iask-ext|[升级] 爱问详细页插件|01.04
mip-global-script|[升级] 页面逻辑公共脚本 添加编辑统计|01.04
mip-mz-addonapp|[新增] 木子推荐app下载|01.03
mip-mz-appdownload|[新增] 木子 app下载|01.03
mip-adsense|[新增] google 广告组件|01.03
mip-changyan|[升级] 支持在线评论插件 畅言|01.03
mip-iask-ext|[升级] 爱问详细页插件|01.03
mip-cr173-ppzs|[升级] 西西软件园皮皮助手下载|01.03
mip-cr173-tags|[升级] 西西软件园适配下载地址组件|01.03
mip-yxdown-floatad | [新增] 第三方广告投放插件|12.30
mip-weiyoubaba-tthead  | [新增] 微友巴巴头条|12.30
mip-wkfun-medicine|  [升级] 寻医问药药品频道|12.30
mip-dad-appdownload |[升级] 皮皮高速下载|12.30
mip-ad | [升级] 广告|12.30
mip-bsml-fixedbar |  [升级] bsml底部转换工具组件|12.30
mip-cr173-ppzs|[新增] 西西软件园皮皮助手下载|12.29
mip-down-script| [升级][BUG] 页面逻辑脚本集合|12.29
mip-dad-appdownload |[升级][BUG] 皮皮高速下载|12.29
mip-nav-slidedown  | [升级][BUG] 支持logo可配置|12.29
mip-stats-baidu| [升级] 百度统计组件支持事件追踪|12.29
mip-bsml-form |  [升级] bsml表单组件|12.29


### 9. MIP 文档

#### 背景与目标
    
    完善文档，随时更新
    
#### 完成情况

- 更新：

    - 校验规则升级
    - github changelog 按时更新
    - 开发辅助工具和模块

- 进度：

    - 内网文档同步官网脚本完成

- 预览地址：
    
    - 内网：http://mip.baidu.com/
    - 官网：https://www.mipengine.org

